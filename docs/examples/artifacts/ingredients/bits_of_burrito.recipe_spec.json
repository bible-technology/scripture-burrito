{
    "name": {
        "en": "Bits of Burrito"
    },
    "description": {
        "en": "We dice our burritos finely"
    },
    "metadata": {
        "identification": {
            "name": {
                "en": "Some Finely-Diced Demo Burrito",
                "fr": "De petits morceaux d'une cr\u00eape mexicaine biblique surdimensionn\u00e9e anonyme"
            }
        }
    },
    "variables": [
	{
            "name": "aNumber",
            "dataType": "number",
	    "value": ["lit", 2]
        },
	{
	    "name": "anArray",
	    "dataType": ["array", "string"],
	    "value": ["lit", [["lit", "x"], ["lit", "y"], ["lit", "z"]]]
	},
	{
	    "name": "anObject",
	    "dataType": ["object", "string"],
	    "value": ["lit", {"foo": "baa"}]
	}
    ],
    "sequence": [
        {
            "stepType": "message",
            "text": "A debugging message"
        },
        {
            "stepType": "ifThenElse",
	    "variables": [
		{
		    "name": "aNumber",
		    "dataType": "boolean",
		    "value": [
			"xor",
			[
			    "or",
			    [
				["lit", false],
				["lit", true]
			    ]
			],
			[
			    "and",
			    [
				["lit", false],
				["lit", true]
			    ]
			]
		    ]
		}
	    ],
            "if": ["not", ["not", ["lit", true]]],
            "then": [
                {
                    "stepType": "message",
                    "text": "Then Sequence"
                }
            ],
            "else": [
                {
                    "stepType": "message",
                    "text": "Optional Else Sequence"
                }
            ]
        },
        {
            "stepType": "case",
	    "variables": [
		{
		    "name": "aNumber",
		    "dataType": "number",
		    "value": [
			"sum",
			[
			    ["lit", 2],
			    ["lit", 4],
			    [
				"mul",
				[
				    ["lit", 5],
				    [
					"max",
					[
					    ["lit", 7],
					    ["min",
					     [
						 ["lit", 1],
						 ["lit", 0.4]
					     ]
					    ]
					]
				    ]
				]
			    ]
			]
		    ]
		}
	    ],
            "clauses": [
                {
                    "when": ["lit", true],
		    "sequence": [
                        {
                            "stepType": "message",
                            "text": "First Case Clause Sequence"
                        }
                    ]
                },
                {
                    "when": ["not", ["lit", false]],
                    "sequence": [
                        {
                            "stepType": "message",
                            "text": "Second Case Clause Sequence"
                        }
                    ]
                }
            ],
            "otherwise": [
                {
                    "stepType": "message",
                    "text": "Optional Otherwise Sequence"
                }
            ]
        },
        {
            "stepType": "forItems",
            "itemVariable": {
                "name": "foo",
                "dataType": "number"
	    },
            "array": [
		"lit", [
                    ["lit", 1],
                    ["lit", 3],
                    ["lit", 5]
		]
            ],
            "sequence": [
                {
                    "stepType": "message",
                    "text": "Sequence for Item {['var', 'foo']}"
                }
            ]
        },
        {
            "stepType": "forKeyValues",
            "keyVariable": {
                "name": "foo",
                "dataType": "string"
            },
            "valueVariable": {
                "name": "foo",
                "dataType": "boolean"
            },
            "object": [
		"lit",
		{
                    "fee": false,
                    "fi": false,
                    "foe": true
		}
	    ],
            "sequence": [
                {
                    "stepType": "message",
                    "text": "Sequence for Item {['var', 'foo']}"
                }
            ]
        },
        {
            "stepType": "callback",
            "primitive": "funkyCallbackFunction",
            "arguments": []
        }
    ]
}
